<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:oxm="http://www.springframework.org/schema/oxm"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd">
    
    <bean id="messageSource"
	    class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
	    <property name="basename" value="classpath:messages" />
	    <property name="defaultEncoding" value="UTF-8"/>
	</bean>
	 
	<bean id="localeChangeInterceptor"
	    class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
	    <property name="paramName" value="lang" />
	</bean>
	 
	<bean id="localeResolver"
	    class="org.springframework.web.servlet.i18n.CookieLocaleResolver">
	    <property name="defaultLocale" value="en"/>
	</bean>
	 
	<bean id="handlerMapping"
	    class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">
	    <property name="interceptors">
	        <ref bean="localeChangeInterceptor" />
	    </property>
	</bean>
	
    <bean id="iPeerWebService" class="ca.ubc.ctlt.ipeerb2.webservice.iPeerWebService">
        <constructor-arg ref="restTemplate"/>
        <constructor-arg value="https://localhost"/>
    </bean>
 
    <bean id="restTemplate" class="org.mockito.Mockito" factory-method="mock"  >
		<constructor-arg value="org.springframework.web.client.RestTemplate" />
	</bean>
	
	<!-- Course fixtures -->
	
    <bean id="course" class="ca.ubc.ctlt.ipeerb2.domain.Course">
        <property name="id" value="1" />
        <property name="course" value="MATH101" />
        <property name="title" value="Test Course" />
    </bean>
    <bean id="course2" class="ca.ubc.ctlt.ipeerb2.domain.Course">
        <property name="id" value="2" />
        <property name="course" value="MATH103" />
        <property name="title" value="Test Course 2" />
    </bean>
    <bean id="course3" class="ca.ubc.ctlt.ipeerb2.domain.Course">
        <property name="id" value="3" />
        <property name="course" value="MATH103" />
        <property name="title" value="Test Course 3" />
    </bean>
    
    <bean id="courseList" class="java.util.ArrayList">
	    <constructor-arg>
	        <list>
	            <ref bean="course" />
	            <ref bean="course2" />   
	            <ref bean="course3" />              
	        </list>
	    </constructor-arg>
	</bean>
	
	<!-- User fixtures -->
 
	<bean id="user" class="ca.ubc.ctlt.ipeerb2.domain.User">
        <property name="id" value="1" />
        <property name="username" value="username1" />
        <property name="firstName" value="Test" />
        <property name="lastName" value="User1" />
        <property name="email" value="username1@ubc.ca" />
        <property name="studentId" value="12345671" />
    </bean>
    <bean id="user2" class="ca.ubc.ctlt.ipeerb2.domain.User">
        <property name="id" value="2" />
        <property name="username" value="username2" />
        <property name="firstName" value="Test" />
        <property name="lastName" value="User2" />
        <property name="email" value="username2@ubc.ca" />
        <property name="studentId" value="12345672" />
    </bean>
    <bean id="user3" class="ca.ubc.ctlt.ipeerb2.domain.User">
        <property name="id" value="3" />
        <property name="username" value="username3" />
        <property name="firstName" value="Test" />
        <property name="lastName" value="User3" />
        <property name="email" value="username3@ubc.ca" />
        <property name="studentId" value="12345673" />
    </bean>
    
    <bean id="userList" class="java.util.ArrayList">
	    <constructor-arg>
	        <list>
	            <ref bean="user" />
	            <ref bean="user2" />   
	            <ref bean="user3" />              
	        </list>
	    </constructor-arg>
	</bean>
	
	<!-- Group fixtures -->
	
	<bean id="group" class="ca.ubc.ctlt.ipeerb2.domain.Group">
        <property name="id" value="1" />
        <property name="name" value="groupname1" />
        <property name="setName" value="Set1" />
    </bean>
    <bean id="group2" class="ca.ubc.ctlt.ipeerb2.domain.Group">
        <property name="id" value="2" />
        <property name="name" value="groupname2" />
        <property name="setName" value="Set1" />
    </bean>
    <bean id="group3" class="ca.ubc.ctlt.ipeerb2.domain.Group">
        <property name="id" value="3" />
        <property name="name" value="groupname3" />
        <property name="setName" value="Set1" />
    </bean>
    
    <bean id="groupList" class="java.util.ArrayList">
	    <constructor-arg>
	        <list>
	            <ref bean="group" />
	            <ref bean="group2" />   
	            <ref bean="group3" />              
	        </list>
	    </constructor-arg>
	</bean>
</beans>